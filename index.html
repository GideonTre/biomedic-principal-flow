<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDBE 1:2 2025/2026 - Learning Management System</title>
    <meta name="google-site-verification" content="4aa3f80019ff5f43">
    <meta name="description" content="TDBE 1:2 2025/2026 - Biomedical Engineering Learning Portal. Access learning materials, track your academic progress, and view results.">
    <meta name="keywords" content="TDBE 1:2 2025/2026, biomedical engineering, hospital information system, biomedical sensors, medical electronics, learning management system, student portal">
    <meta name="author" content="TDBE 1:2 2025/2026">
    <meta name="robots" content="index, follow">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¥</text></svg>">
</head>
<body>

    <!-- Navigation Bar (Collapsible) -->
    <nav id="navbar" class="collapsed">
        <div class="logo">ğŸ¥ TDBE 1:2 2025/2026</div>
        <ul class="nav-links">
            <li><a href="#" onclick="showPage('dashboard')">ğŸ“Š Dashboard</a></li>
            <li><a href="#" onclick="showPage('classes')">ğŸ“š My Classes</a></li>
            <li><a href="#" onclick="showPage('materials')">ğŸ“¥ Materials</a></li>
            <li><a href="#" onclick="showPage('results')">ğŸ“ Results</a></li>
            <li><a href="#" onclick="showPage('admin')" id="adminLink" class="hidden">ğŸ‘¨â€ğŸ« Teacher Panel</a></li>
            <li><a href="#" onclick="logout()" class="btn-logout">ğŸšª Logout</a></li>
        </ul>
        <div class="nav-right">
            <div class="mobile-menu-icon" onclick="toggleMobileMenu()">â˜°</div>
            <button class="collapse-btn" onclick="toggleNavbar()" title="Collapse/Expand">â—€</button>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">

        <!-- LOGIN / REGISTER PAGE -->
        <section id="auth-page" class="page active">
            <div class="auth-box">
                <div class="auth-logo">ğŸ¥</div>
                <h1>TDBE 1:2 2025/2026</h1>
                <p>Biomedical Engineering Learning Portal</p>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="toggleAuthMode('login')">Login</button>
                    <button class="tab-btn" onclick="toggleAuthMode('register')">Register</button>
                </div>

                <form id="auth-form">
                    <!-- Gmail Input Field -->
                    <div class="input-group">
                        <label for="email">ğŸ“§ Gmail Address</label>
                        <input type="email" id="email" placeholder="yourname@gmail.com" required>
                    </div>
                    
                    <div class="input-group">
                        <label for="password">ğŸ”’ Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    
                    <select id="role">
                        <option value="student">Student</option>
                        <option value="teacher">Teacher</option>
                    </select>
                    
                    <button type="submit" class="btn-primary">Sign In</button>
                </form>
                <p class="note">Demo: <b>student@gmail.com</b> / <b>123</b> or <b>teacher@gmail.com</b> / <b>123</b></p>
            </div>
        </section>

        <!-- STUDENT DASHBOARD PAGE -->
        <section id="dashboard-page" class="page hidden">
            <div class="page-header">
                <h2>Welcome back, <span id="student-name">Student</span>!</h2>
                <p>Here's an overview of your learning progress - TDBE 1:2 2025/2026</p>
            </div>
            <div class="dashboard-grid">
                <div class="card stat-card">
                    <div class="stat-icon">ğŸ“š</div>
                    <div class="stat-content">
                        <h3>Enrolled Classes</h3>
                        <p class="big-number" id="stat-classes">0</p>
                    </div>
                </div>
                <div class="card stat-card">
                    <div class="stat-icon">ğŸ“Š</div>
                    <div class="stat-content">
                        <h3>Average Score</h3>
                        <p class="big-number" id="stat-score">0%</p>
                    </div>
                </div>
                <div class="card stat-card">
                    <div class="stat-icon">âœ…</div>
                    <div class="stat-content">
                        <h3>Attendance</h3>
                        <p class="big-number">98%</p>
                    </div>
                </div>
                <div class="card stat-card">
                    <div class="stat-icon">ğŸ“</div>
                    <div class="stat-content">
                        <h3>Total Materials</h3>
                        <p class="big-number" id="stat-materials">0</p>
                    </div>
                </div>
                <div class="card wide">
                    <h3>ğŸ“¥ Recent Materials</h3>
                    <ul id="dash-materials-list" class="minimal-list"></ul>
                </div>
            </div>
        </section>

        <!-- CLASSES / ENROLLMENT PAGE -->
        <section id="classes-page" class="page hidden">
            <div class="page-header">
                <h2>My Classes - TDBE 1:2 2025/2026</h2>
                <p>View and manage your enrolled courses</p>
            </div>
            <div class="classes-grid" id="classes-container"></div>
        </section>

        <!-- LEARNING MATERIALS PAGE -->
        <section id="materials-page" class="page hidden">
            <div class="page-header">
                <h2>Learning Materials</h2>
                <p>Download course materials, notes, and assignments</p>
            </div>
            <div class="filters">
                <input type="text" id="search-material" placeholder="ğŸ” Search materials..." onkeyup="filterMaterials()">
                <select id="filter-class" onchange="filterByClass()">
                    <option value="">All Courses</option>
                </select>
            </div>
            <div class="materials-list" id="materials-container"></div>
        </section>

        <!-- RESULTS / PROGRESS PAGE -->
        <section id="results-page" class="page hidden">
            <div class="page-header">
                <h2>Academic Results</h2>
                <p>View your test scores and progress - TDBE 1:2 2025/2026</p>
            </div>
            <div class="progress-overview">
                <div class="card">
                    <h3>Overall Performance</h3>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="overall-progress" style="width: 0%"></div>
                    </div>
                    <p id="progress-text">Calculating...</p>
                </div>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Course</th>
                            <th>Assignment / Test</th>
                            <th>Score</th>
                            <th>Grade</th>
                            <th>Lecturer Comments</th>
                        </tr>
                    </thead>
                    <tbody id="results-table-body"></tbody>
                </table>
            </div>
        </section>

        <!-- TEACHER / ADMIN PANEL -->
        <section id="admin-page" class="page hidden">
            <div class="page-header">
                <h2>ğŸ‘¨â€ğŸ« Teacher Panel</h2>
                <p>Manage courses, materials, and student progress</p>
            </div>
            
            <div class="admin-grid">
                <!-- Upload Material -->
                <div class="card">
                    <h3>ğŸ“¤ Upload New Material</h3>
                    <form onsubmit="handleUpload(event)">
                        <label>Select Course *</label>
                        <select id="upload-class" required>
                            <option value="">Select Course</option>
                        </select>
                        
                        <label>Material Title *</label>
                        <input type="text" id="upload-title" placeholder="e.g., Week 1 Lecture Notes" required>
                        
                        <label>Material Type *</label>
                        <select id="upload-type" required>
                            <option value="">Select Type</option>
                            <option value="PDF">PDF - Notes</option>
                            <option value="DOCX">DOCX - Assignment</option>
                            <option value="PPTX">PPTX - Slides</option>
                            <option value="Video">Video Lecture</option>
                            <option value="Image">Image/Photo</option>
                        </select>
                        
                        <label>Upload File *</label>
                        <div class="file-upload-area" id="upload-area">
                            <input type="file" id="upload-file" accept=".pdf,.docx,.pptx,.mp4,.jpg,.png,.jpeg" onchange="handleFileSelect(event)">
                            <div id="upload-preview">
                                <span class="upload-icon">ğŸ“</span>
                                <p id="upload-filename">Click to select file or drag & drop</p>
                                <p class="file-hint">PDF, DOCX, PPTX, MP4, JPG (Max 50MB)</p>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn-primary">ğŸ“¤ Upload Material</button>
                    </form>
                </div>
                
                <!-- Add New Course -->
                <div class="card">
                    <h3>â• Add New Course</h3>
                    <form onsubmit="handleAddClass(event)">
                        <label>Course Name *</label>
                        <input type="text" id="new-class-name" placeholder="e.g., Advanced Biomedical Sensors" required>
                        
                        <label>Course Description *</label>
                        <textarea id="new-class-desc" placeholder="Enter detailed course description..." rows="6" required></textarea>
                        
                        <button type="submit" class="btn-secondary">â• Create Course</button>
                    </form>
                </div>

                <!-- Add Student Result -->
                <div class="card">
                    <h3>ğŸ“ Add Student Result</h3>
                    <form onsubmit="handleAddResult(event)">
                        <label>Course Name *</label>
                        <input type="text" id="result-subject" placeholder="e.g., Hospital Information System" required>
                        
                        <label>Assignment / Test Name *</label>
                        <input type="text" id="result-assignment" placeholder="e.g., Midterm Examination" required>
                        
                        <label>Score (0-100) *</label>
                        <input type="number" id="result-score" placeholder="85" min="0" max="100" required>
                        
                        <label>Lecturer Comments *</label>
                        <textarea id="result-comment" placeholder="Enter feedback for student..." rows="4" required></textarea>
                        
                        <button type="submit" class="btn-primary">ğŸ“ Add Result</button>
                    </form>
                </div>
            </div>
        </section>

    </div>

    <!-- File Viewer Modal -->
    <div id="file-viewer-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="viewer-title">File Viewer</h3>
                <button class="close-btn" onclick="closeViewer()">Ã—</button>
            </div>
            <div class="modal-body" id="viewer-content">
                <!-- Content loads here -->
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="viewer-download-btn" onclick="downloadCurrentFile()">â¬‡ Download</button>
                <button class="btn-secondary" onclick="closeViewer()">Close</button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Footer -->
    <footer>
        <p>ğŸ¥ TDBE 1:2 2025/2026 - Biomedical Engineering Learning Portal</p>
        <p>&copy; 2026 All Rights Reserved | Designed for TDBE Students</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>